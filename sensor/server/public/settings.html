<!DOCTYPE html>
<html lang="en">
<head>
	<title>HFS Dashboard</title>
	<link rel="stylesheet" type="text/css" href="main.css">
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<meta name="description" content="" />
	<script>
		function sendCmdOverBLE(device_id, cmd, data) {
			fetch('http://' + location.host + '/api/ble', {
				method: 'POST',
				body: JSON.stringify({
					id: parseInt(device_id),
					cmd: parseInt(cmd),
					data: parseInt(data)
				}),
				headers: {
					"Content-type": "application/json; charset=UTF-8"
				}
			});
		}
		function getDevices() {
			fetch('http://' + location.host + '/api/ble', {
				method: 'POST',
				body: JSON.stringify({ id: -1, cmd: 3, data: 0 }),
				headers: {
					"Content-type": "application/json; charset=UTF-8"
				}
			})
				.then((response) => response.json())
				.then((data) => {
					let dropdown = document.getElementById("option-sensors");
					data.devices.forEach(function (device) {
						console.log(device);
					})
				})
		}
		getDevices();
	</script>
</head>
<body style="margin:0; padding:0;">
	<table style="padding-left:20%;padding-top:20px;width:80%;text-align:left">
		<thead>
			<tr>
				<td>
					<label for="option-sensors" style="padding-right:20px">Program</label>
					<select name="option-sensors" id="option-sensors" onclick="getDevices()">
					
					</select>
			</tr>
			<tr>
				<td>
					<button type="button">Push to Sensor</button>
				</td>
			</tr>
			<tr>
				<td>
					<label for="option-program" style="padding-right:20px">Program</label>
					<select name="option-program" id="option-program">
						<option value="default">default</option>
						<option value="tests/distance">distance test</option>
						<option value="tests/farfield">farfield test</option>
						<option value="tests/frequency">frequency test</option>
						<option value="tests/noise">noise test</option>
					</select>
				</td>
			</tr>
		</thead>
	<tbody id="settings-table"></tbody>
	</table>
</body>
</html>